{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\js\\New/assets\\js\\New\\flyerMove.js"],"names":["cc","Class","extends","Component","properties","damage","targetNode","default","type","Node","targetDefPosition","deviation","onLoad","director","getCollisionManager","enabled","moveToPosition","position","thisPosition","node","getPosition","convertToNodeSpaceAR","middleX","Math","abs","x","middleY","y","bezier","p","bezierTo","runAction","onCollisionEnter","other","self","name","parent","active","update"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,gBAAO,CADE;AAETC,oBAAW;AACPC,qBAAQ,IADD;AAEPC,kBAAKR,GAAGS;AAFD,SAFF;AAMTC,2BAAkB,CANT;AAOTC,mBAAU;AAPD,KAHP;AAYL;AACAC,YAAQ,kBAAY;AAChB;AACAZ,WAAGa,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA;AACA,aAAKC,cAAL,CAAoB,KAAKN,iBAAzB;AACH,KAlBI;AAmBLM,oBAAe,wBAASC,QAAT,EAAkB;;AAE7B,YAAIC,eAAe,KAAKC,IAAL,CAAUC,WAAV,EAAnB;AACAH,mBAAW,KAAKE,IAAL,CAAUE,oBAAV,CAA+BJ,QAA/B,CAAX;;AAEA,YAAIK,UAAUC,KAAKC,GAAL,CAASP,SAASQ,CAAlB,IAAuBF,KAAKC,GAAL,CAASN,aAAaO,CAAtB,CAAvB,GACVF,KAAKC,GAAL,CAASP,SAASQ,CAAlB,IAAuB,CADb,GACiBF,KAAKC,GAAL,CAASN,aAAaO,CAAtB,IAA2B,CAD1D;AAEA,YAAIC,UAAWH,KAAKC,GAAL,CAASP,SAASU,CAAlB,IAAuBJ,KAAKC,GAAL,CAASN,aAAaS,CAAtB,CAAvB,GACXJ,KAAKC,GAAL,CAASP,SAASU,CAAlB,IAAuB,CADZ,GACgBJ,KAAKC,GAAL,CAASN,aAAaS,CAAtB,IAA2B,CAD1D;;AAGA,YAAIC,SAAS,CAACV,YAAD,EACTlB,GAAG6B,CAAH,CAAKP,OAAL,EAAcI,UAAS,CAACT,SAASQ,CAAT,GAAWP,aAAaO,CAAzB,IAA4B,GAAnD,CADS,EAETR,QAFS,CAAb;;AAIA,YAAIa,WAAW9B,GAAG8B,QAAH,CAAY,CAAZ,EAAeF,MAAf,CAAf;AACA,aAAKT,IAAL,CAAUY,SAAV,CAAoBD,QAApB;AACH,KAnCI;AAoCL;;;;;AAKAE,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrC,YAAG,KAAK5B,UAAL,CAAgB6B,IAAhB,IAAwBF,MAAMd,IAAN,CAAWiB,MAAX,CAAkBD,IAA7C,EAAkD;AAC9C,iBAAKhB,IAAL,CAAUkB,MAAV,GAAmB,KAAnB;AACH;AACJ,KA7CI;AA8CLC,YAAO,kBAAU,CAEhB;AAhDI,CAAT","file":"flyerMove.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\js\\New","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       damage:0,\r\n       targetNode:{\r\n           default:null,\r\n           type:cc.Node\r\n       },\r\n       targetDefPosition:0,\r\n       deviation:0\r\n    },\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        //启用碰撞事件\r\n        cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getCollisionManager().enabledDebugDraw = true;\r\n        this.moveToPosition(this.targetDefPosition);\r\n    },\r\n    moveToPosition:function(position){\r\n\r\n        var thisPosition = this.node.getPosition();\r\n        position = this.node.convertToNodeSpaceAR(position);\r\n\r\n        var middleX = Math.abs(position.x) > Math.abs(thisPosition.x) ?\r\n            Math.abs(position.x) / 2 : Math.abs(thisPosition.x) / 2\r\n        var middleY =  Math.abs(position.y) > Math.abs(thisPosition.y) ?\r\n            Math.abs(position.y) / 2 : Math.abs(thisPosition.y) / 2\r\n\r\n        var bezier = [thisPosition,\r\n            cc.p(middleX, middleY+((position.x-thisPosition.x)*0.1)),\r\n            position];\r\n            \r\n        var bezierTo = cc.bezierTo(1, bezier);\r\n        this.node.runAction(bezierTo);\r\n    },\r\n    /**\r\n     * 当碰撞产生的时候调用\r\n     * @param  {Collider} other 产生碰撞的另一个碰撞组件\r\n     * @param  {Collider} self  产生碰撞的自身的碰撞组件\r\n     */\r\n    onCollisionEnter: function (other, self) {\r\n        if(this.targetNode.name == other.node.parent.name){\r\n            this.node.active = false;\r\n        }\r\n    },\r\n    update:function(){\r\n        \r\n    }\r\n});\r\n"]}