{"version":3,"sources":["../../../../../assets/js/New/assets/js/New/flyerMove.js"],"names":["cc","Class","extends","Component","properties","damage","targetNode","default","type","Node","targetDefPosition","deviation","onLoad","director","getCollisionManager","enabled","moveToPosition","position","thisPosition","node","getPosition","convertToNodeSpaceAR","middleX","Math","abs","x","middleY","y","bezier","p","log","bezierTo","runAction","onCollisionEnter","other","self","name","parent","active","update"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,gBAAO,CADE;AAETC,oBAAW;AACPC,qBAAQ,IADD;AAEPC,kBAAKR,GAAGS;AAFD,SAFF;AAMTC,2BAAkB,CANT;AAOTC,mBAAU;AAPD,KAHP;AAYL;AACAC,YAAQ,kBAAY;AAChB;AACAZ,WAAGa,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA;AACA,aAAKC,cAAL,CAAoB,KAAKN,iBAAzB;AACH,KAlBI;AAmBLM,oBAAe,wBAASC,QAAT,EAAkB;;AAE7B,YAAIC,eAAe,KAAKC,IAAL,CAAUC,WAAV,EAAnB;AACAH,mBAAW,KAAKE,IAAL,CAAUE,oBAAV,CAA+BJ,QAA/B,CAAX;;AAEA,YAAIK,UAAUC,KAAKC,GAAL,CAASP,SAASQ,CAAlB,IAAuBF,KAAKC,GAAL,CAASN,aAAaO,CAAtB,CAAvB,GACVF,KAAKC,GAAL,CAASP,SAASQ,CAAlB,IAAuB,CADb,GACiBF,KAAKC,GAAL,CAASN,aAAaO,CAAtB,IAA2B,CAD1D;AAEA,YAAIC,UAAWH,KAAKC,GAAL,CAASP,SAASU,CAAlB,IAAuBJ,KAAKC,GAAL,CAASN,aAAaS,CAAtB,CAAvB,GACXJ,KAAKC,GAAL,CAASP,SAASU,CAAlB,IAAuB,CADZ,GACgBJ,KAAKC,GAAL,CAASN,aAAaS,CAAtB,IAA2B,CAD1D;;AAGA,YAAIC,SAAS,CAACV,YAAD,EACTlB,GAAG6B,CAAH,CAAKP,OAAL,EAAcI,UAAS,CAACT,SAASQ,CAAT,GAAWP,aAAaO,CAAzB,IAA4B,GAAnD,CADS,EAETR,QAFS,CAAb;AAGAjB,WAAG8B,GAAH,CAAOF,MAAP;AACA,YAAIG,WAAW/B,GAAG+B,QAAH,CAAY,CAAZ,EAAeH,MAAf,CAAf;AACA,aAAKT,IAAL,CAAUa,SAAV,CAAoBD,QAApB;AACH,KAnCI;AAoCL;;;;;AAKAE,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrC,YAAG,KAAK7B,UAAL,CAAgB8B,IAAhB,IAAwBF,MAAMf,IAAN,CAAWkB,MAAX,CAAkBD,IAA7C,EAAkD;AAC9C,iBAAKjB,IAAL,CAAUmB,MAAV,GAAmB,KAAnB;AACH;AACJ,KA7CI;AA8CLC,YAAO,kBAAU,CAEhB;AAhDI,CAAT","file":"flyerMove.js","sourceRoot":"../../../../../assets/js/New","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n       damage:0,\n       targetNode:{\n           default:null,\n           type:cc.Node\n       },\n       targetDefPosition:0,\n       deviation:0\n    },\n    // use this for initialization\n    onLoad: function () {\n        //启用碰撞事件\n        cc.director.getCollisionManager().enabled = true;\n        //cc.director.getCollisionManager().enabledDebugDraw = true;\n        this.moveToPosition(this.targetDefPosition);\n    },\n    moveToPosition:function(position){\n\n        var thisPosition = this.node.getPosition();\n        position = this.node.convertToNodeSpaceAR(position);\n\n        var middleX = Math.abs(position.x) > Math.abs(thisPosition.x) ?\n            Math.abs(position.x) / 2 : Math.abs(thisPosition.x) / 2\n        var middleY =  Math.abs(position.y) > Math.abs(thisPosition.y) ?\n            Math.abs(position.y) / 2 : Math.abs(thisPosition.y) / 2\n\n        var bezier = [thisPosition,\n            cc.p(middleX, middleY+((position.x-thisPosition.x)*0.1)),\n            position];\n        cc.log(bezier);\n        var bezierTo = cc.bezierTo(1, bezier);\n        this.node.runAction(bezierTo);\n    },\n    /**\n     * 当碰撞产生的时候调用\n     * @param  {Collider} other 产生碰撞的另一个碰撞组件\n     * @param  {Collider} self  产生碰撞的自身的碰撞组件\n     */\n    onCollisionEnter: function (other, self) {\n        if(this.targetNode.name == other.node.parent.name){\n            this.node.active = false;\n        }\n    },\n    update:function(){\n        \n    }\n});\n"]}